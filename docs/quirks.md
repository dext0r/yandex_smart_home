В компоненте Yandex Smart Home и Умном доме Яндекса существует ряд особенностей и ограничений,
некоторые из них следует знать для максимально беспроблемной работы.

## Принцип работы { id=ysh-principles }
Компонент создаёт в УДЯ устройства с набором умений (функций) и датчиков используя `Объекты` (`Entity`) из Home Assistant,
`Устройства` (`Devices`) никаким[^1] образом не используются.
[^1]: Устройства HA используются только для отображении модели в УДЯ и определения комнаты

Одно устройство в УДЯ может состоять из нескольких объектов Home Assistant, например, [датчики](devices/sensor.md).

!!! summary "В этой документации под словом "Устройство" подразумевается "Устройство в УДЯ, созданное из объектов Home Assistant""

## Названия устройств { id=naming }
В названиях устройств возможны **только** русские символы и цифры, между словами и числами должны быть пробелы. Максимальная длина - 25 символов. Объекты не отвечающие данному требованию будут загружены в УДЯ как устройства, но потребуют ручного переименования.

Очень утомительно переименовывать устройств непосредственно в УДЯ, поэтому рекомендуется сразу задать правильные названия в Home Assistant.

Есть несколько способов сделать это:

1. На странице `Настройки` --> `Устройства и службы` --> [`Объекты`](https://my.home-assistant.io/redirect/entities/) через поле `Название`
2. Через атрибут `friendly_name` в [customization.yaml](https://www.home-assistant.io/docs/configuration/customizing-devices/)
3. Через параметр `name` в [параметрах устройств](config/entity.md)
4. Через параметр `alias` для скриптов

## Комнаты { id=rooms }
При добавлении нового устройства в УДЯ комната может назначаться автоматически, для этого она должна быть указана в Home Assistant.

К именам комнат предъявляются те же требования, что и к именам устройств (только русские символы и цифры).

Способы добавить устройство в комнату:

1. Создайте нужные комнаты на странице `Настройки` > `Пространства и зоны` > [`Пространства`](https://my.home-assistant.io/redirect/areas/)
2. Выберите комнату в свойствах объекта на cтранице `Настройки` --> `Устройства и службы` --> [`Объекты`](https://my.home-assistant.io/redirect/entities/),
или в свойствах [`Устройства`](https://my.home-assistant.io/redirect/devices/), в которое включен объект
3. Через параметр `room` в [параметрах устройств](config/entity.md)

!!! danger "Важно!"
    Комнаты в УДЯ нужно создать **вручную** через [квазар](quasar.md) или Дом с Алисой **перед** добавлением устройств:
    нажмите на выпадающем списке выбора дома (левый верхний угол) > нажмите на нужном доме > Комнаты.

!!! tip "Обратите внимание"
    При ручном обновлении списка устройств важно **не выбирать** "Дом", а просто понажимать стрелку "Назад":
    <figure markdown>
        ![](assets/images/quasar/room-discovery-1.png){ width=350 }
        <figcaption>Нажать "Далее"</figcaption>
    </figure>

    <figure markdown>
        ![](assets/images/quasar/room-discovery-2.png){ width=350 }
        <figcaption>**Не нажимать** "Выбрать", вместо этого нажимать стрелку назад.<br>После выхода в список устройств обновите страницу</figcaption>
    </figure>
